# ControlBans Configuration
# Advanced punishment system with LiteBans compatibility
# Version: 1.0.0

# Language for all plugin messages.
# Default language files (en, de, es, fr, ru, tr) are included.
# You can create your own by copying 'en.yml' from the locales folder.
language: "en"

# Database Configuration
database:
  # Database type: mysql, mariadb, postgresql, sqlite
  type: sqlite

  # Database connection details (not needed for SQLite)
  host: localhost
  port: 3306
  database: controlbans
  username: root
  password: password

  # SQLite file location (relative to plugin data folder)
  sqlite-file: punishments.db

  # Connection pool settings
  pool:
    maximum-pool-size: 10
    minimum-idle: 5
    connection-timeout: 30000
    idle-timeout: 300000
    max-lifetime: 1800000

# Alt Account Punishment
alts-punish:
  # Enable automatic punishment of alternate accounts
  enabled: false

  # Punishment types to apply to alts
  apply-to:
    bans: true
    tempbans: false
    mutes: false

  # Safety features
  safety:
    # Minimum confidence level for alt detection (0.0-1.0)
    min-confidence: 0.8
    # Maximum alts to punish at once
    max-alts: 5
    # Cooldown between alt punishments (seconds)
    cooldown: 300

  # Logging
  log-alt-punishments: true
  notify-staff: true

# Web Interface
web:
  # Enable built-in web viewer
  enabled: false

  # Server configuration
  host: 0.0.0.0
  port: 8080

  # Security
  admin-token: change-me-please
  allowed-hosts:
    - localhost
    - 127.0.0.1

  # SSL/TLS (requires certificate files)
  tls:
    enabled: false
    keystore-path: keystore.jks
    keystore-password: password

  # Web interface settings
  records-per-page: 50
  auto-refresh-interval: 30

# Integration Settings
integrations:
  # DiscordSRV Integration
  discord:
    enabled: false

    # Placeholders: {player}, {staff}, {reason}, {duration}, {id}, {server}
    messages:
      ban:
        enabled: true
        channel: "ban-logs"
        color: "#AA0000"
        title: "Player Banned"
        description: "`{player}` was permanently banned from the server."
        fields:
          - name: "Banned By"
            value: "`{staff}`"
            inline: true
          - name: "Reason"
            value: "`{reason}`"
            inline: true
        footer: "Punishment ID: {id}"
      tempban:
        enabled: true
        channel: "ban-logs"
        color: "#FFAA00"
        title: "Player Temporarily Banned"
        description: "`{player}` was temporarily banned from the server."
        fields:
          - name: "Banned By"
            value: "`{staff}`"
            inline: true
          - name: "Duration"
            value: "`{duration}`"
            inline: true
          - name: "Reason"
            value: "`{reason}`"
            inline: false
        footer: "Punishment ID: {id}"
      ipban:
        enabled: true
        channel: "ban-logs"
        color: "#550000"
        title: "Player IP Banned"
        description: "An IP address associated with `{player}` was banned."
        fields:
          - name: "Banned By"
            value: "`{staff}`"
            inline: true
          - name: "Reason"
            value: "`{reason}`"
            inline: true
          - name: "Duration"
            value: "`{duration}`"
            inline: false
        footer: "Punishment ID: {id}"
      mute:
        enabled: true
        channel: "mute-logs"
        color: "#5555FF"
        title: "Player Muted"
        description: "`{player}` was permanently muted."
        fields:
          - name: "Muted By"
            value: "`{staff}`"
            inline: true
          - name: "Reason"
            value: "`{reason}`"
            inline: true
        footer: "Punishment ID: {id}"
      tempmute:
        enabled: true
        channel: "mute-logs"
        color: "#55FFFF"
        title: "Player Temporarily Muted"
        description: "`{player}` was temporarily muted."
        fields:
          - name: "Muted By"
            value: "`{staff}`"
            inline: true
          - name: "Duration"
            value: "`{duration}`"
            inline: true
          - name: "Reason"
            value: "`{reason}`"
            inline: false
        footer: "Punishment ID: {id}"
      warn:
        enabled: true
        channel: "warn-logs"
        color: "#FFFF55"
        title: "Player Warned"
        description: "`{player}` has been warned."
        fields:
          - name: "Warned By"
            value: "`{staff}`"
            inline: true
          - name: "Reason"
            value: "`{reason}`"
            inline: true
        footer: "Punishment ID: {id}"
      kick:
        enabled: true
        channel: "kick-logs"
        color: "#FF55FF"
        title: "Player Kicked"
        description: "`{player}` was kicked from the server."
        fields:
          - name: "Kicked By"
            value: "`{staff}`"
            inline: true
          - name: "Reason"
            value: "`{reason}`"
            inline: true
        footer: "Punishment ID: {id}"
      unban:
        enabled: true
        channel: "unban-logs"
        color: "#55FF55"
        title: "Player Unbanned"
        description: "`{player}` was unbanned from the server."
        fields:
          - name: "Unbanned By"
            value: "`{staff}`"
            inline: true
          - name: "Player"
            value: "`{player}`"
            inline: true

  # Geyser/Floodgate Integration
  geyser:
    enabled: false

    # Handle Bedrock player UUIDs properly
    bedrock-uuid-handling: true

    # Bedrock-specific punishment messages
    bedrock-messages:
      use-custom: false

  # MCBlacklist Integration
  mcblacklist:
    enabled: false

    # Firebase URL
    firebase-url: "https://mcblacklistdb-default-rtdb.firebaseio.com/players.json"

    # Check frequency (minutes)
    check-interval: 60

    # Action on blacklisted player
    action: ban  # ban, kick, warn
    reason: "Player found on MCBlacklist database"

    # Auto-update blacklist
    auto-update: true

# Import Settings
import:
  # Progress reporting interval (records processed)
  progress-interval: 1000

  # Batch size for database operations
  batch-size: 500

  # Timeout for import operations (seconds)
  timeout: 3600

  # Backup before import
  create-backup: true

  # Configure connection details for external punishment sources.
  sources:
    litebans:
      # Database type: mysql, mariadb, postgresql, sqlite
      type: sqlite
      # For SQLite, provide the path relative to the server root directory
      # e.g., plugins/LiteBans/litebans.db
      sqlite-file: "plugins/LiteBans/litebans.db"

      # --- Settings for MySQL/PostgreSQL ---
      host: localhost
      port: 3306
      database: litebans
      username: root
      password: "password"

# Punishment Settings
punishments:
  # Default reasons
  default-reasons:
    ban: "Unspecified"
    mute: "Unspecified"
    warn: "Unspecified"
    kick: "Disconnected"

  # Maximum punishment duration (for non-admins)
  max-duration:
    tempban: 2592000  # 30 days in seconds
    tempmute: 604800  # 7 days in seconds

  # Punishment broadcast settings
  broadcast:
    enabled: true

    # Broadcast to console
    console: true

    # Broadcast to players with permission
    players: true

    # When true, all punishments will be silent (staff-only) unless the -s flag is used to make them public.
    # When false (default), punishments are public unless the -s flag is used to make them silent.
    silent-by-default: false

# Cache Settings
cache:
  # Enable caching for performance
  enabled: true

  # Cache TTL (seconds)
  ttl:
    player-lookup: 300
    punishment-check: 60
    alt-lookup: 600

  # Maximum cache size
  max-size: 10000

  # Clear cache on punishment changes
  clear-on-change: true

# Performance Settings
performance:
  # Use async database operations
  async-database: true

  # Connection validation
  validate-connections: true

  # Query timeout (seconds)
  query-timeout: 30

  # Enable debug logging
  debug-logging: false

# Time Format
time-format:
  # Date format for displays
  date-format: "yyyy-MM-dd"

  # Timezone (default: server timezone)
  timezone: "UTC"

  # Duration parsing
  duration-units:
    s: seconds
    m: minutes
    h: hours
    d: days
    w: weeks
    mo: months
    y: years